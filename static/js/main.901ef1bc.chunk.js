(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(18),s=n.n(i),o=n(12),u=n(201),l=n(149),d=n(182),b=n(179),j=Object(b.a)((function(e){return{gridAndWrapper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},alertList:{paddingTop:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},taskPagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},appLoadingIndicator:{zIndex:e.zIndex.drawer+1,color:"#fff"},buttonLoadingIndicator:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}}})),O=n(3),p=function(){var e=j();return Object(O.jsx)(l.a,{open:!0,className:e.appLoadingIndicator,children:Object(O.jsx)(d.a,{color:"inherit"})})},x=n(183),f=n(184),g=n(76),h=n(185),m="FETCH_TASKS",v="SET_TASKS",k="CREATE_TASK",y="EDIT_TASK",E="ADD_ERROR",S="REMOVE_ERROR",w="SET_TASK_LIST_STATE",T="SET_AUTHORIZATION_STATE",D="SET_DIALOG_OPEN",I="SET_DIALOG_BUSY",C="SET_DIALOG_FIELD_VALUE",_="SET_DIALOG_FIELD_ERROR",A="RESET_DIALOG_FIELD_ERROR",L="SET_DIALOG_GENERAL_ERROR",R="RESET_DIALOG_GENERAL_ERROR",N="RESET_DIALOG_STATE",F="LOGIN",V="LOGOUT",W="READ_AUTHORIZATION_DATA",z="SHOW_NOTIFICATION",B="HIDE_NOTIFICATION",G=function(){return{type:V}},P=function(e,t){return{type:D,dialogName:e,payload:t}},M="https://uxcandy.com/~shapoval/test-task-backend/v2/",H="dskrasnov",q="ok",K="error",U="NO_SORTING",J="id",Z="username",Y="email",Q="status",X="asc",$="desc",ee="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",te=1,ne=2,ae="taskManage",re="login",ce="token",ie="tokenExpires",se="success",oe="info",ue=function(){var e=Object(o.c)((function(e){return e.authorizationState.isAuthorized})),t=e?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438",n=Object(o.b)(),a=Object(r.useCallback)((function(){n(e?G():P(re,!0))}),[e,n]);return Object(O.jsx)(x.a,{position:"static",children:Object(O.jsxs)(f.a,{children:[Object(O.jsx)(g.a,{variant:"h6",children:"\u0417\u0430\u0434\u0430\u0447\u0438"}),Object(O.jsx)("div",{style:{flexGrow:1}}),Object(O.jsx)(h.a,{color:"inherit",onClick:a,children:t})]})})},le=n(188),de=n(205),be=n(187),je=function(e){var t=e.error,n=t.id,a=t.text,r=e.onClose;return Object(O.jsxs)(de.a,{severity:"error",variant:"filled",closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClose:function(){return r(n)},children:[Object(O.jsx)(be.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),a]})},Oe=function(e){return{type:S,payload:e}},pe=function(){var e=j(),t=Object(o.b)(),n=Object(r.useCallback)((function(e){return t(Oe(e))}),[t]),a=Object(o.c)((function(e){return e.errors}));return a.length?Object(O.jsx)("div",{className:e.alertList,children:Object(O.jsx)(le.a,{container:!0,direction:"column",spacing:1,className:e.gridAndWrapper,children:a.map((function(e){return Object(O.jsx)(le.a,{item:!0,children:Object(O.jsx)(je,{error:e,onClose:n})},e.id)}))})}):null},xe=n(203),fe=n(210),ge=n(211),he=n(186),me=n(95),ve=n.n(me),ke=n(96),ye=n.n(ke),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{type:m,params:e,isInitialDataLoading:t}},Se=[{field:U,label:"\u0411\u0435\u0437 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"},{field:J,label:"\u041f\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0443"},{field:Z,label:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{field:Y,label:"\u041f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"},{field:Q,label:"\u041f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443"}],we=function(){var e=Object(o.c)((function(e){return e.taskListState.sortingField})),t=Object(o.c)((function(e){return e.taskListState.sortingDirection})),n=e!==U,a=t===X,c=a?"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e":"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",i=Object(o.b)(),s=Object(r.useCallback)((function(){return i(P(ae,!0))}),[i]),u=Object(r.useCallback)((function(e){var t=e.target.value;return i(Ee({sortingField:t}))}),[i]),l=Object(r.useCallback)((function(){return i(Ee({sortingDirection:a?$:X}))}),[i,a]);return Object(O.jsx)(f.a,{children:Object(O.jsxs)(le.a,{container:!0,justify:"space-between",alignItems:"center",wrap:"nowrap",spacing:2,children:[Object(O.jsx)(le.a,{item:!0,children:Object(O.jsx)(h.a,{variant:"contained",color:"secondary",onClick:s,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(O.jsxs)(le.a,{item:!0,zeroMinWidth:!0,container:!0,justify:"flex-end",alignItems:"center",wrap:"nowrap",children:[Object(O.jsx)(le.a,{item:!0,zeroMinWidth:!0,children:Object(O.jsx)(xe.a,{value:e,style:{maxWidth:"100%"},onChange:u,children:Se.map((function(e){return Object(O.jsx)(fe.a,{value:e.field,children:e.label},e.field)}))})}),n&&Object(O.jsx)(le.a,{item:!0,children:Object(O.jsx)(ge.a,{title:c,children:Object(O.jsx)(he.a,{onClick:l,children:a?Object(O.jsx)(ve.a,{}):Object(O.jsx)(ye.a,{})})})})]})]})})},Te=n(193),De=n(202),Ie=n(194),Ce=n(195),_e=n(97),Ae=n.n(_e),Le=n(98),Re=n.n(Le),Ne=function(e,t){return{type:C,dialogName:e,payload:t}},Fe=function(e){var t=e.id,n=e.username,a=e.email,c=e.text,i=e.isEdited,s=e.isDone,u=Object(o.c)((function(e){return e.authorizationState.isAuthorized})),l=Object(o.b)(),d=Object(r.useCallback)((function(){l(Ne(ae,{id:t,username:n,email:a,text:c,oldText:c,isEdited:i,isDone:s})),l(P(ae,!0))}),[l,t,n,a,c,i,s]);return Object(O.jsxs)(Te.a,{style:{position:"relative"},children:[(i||s)&&Object(O.jsxs)(De.a,{style:{position:"absolute",top:2,right:2},children:[i&&Object(O.jsx)(ge.a,{title:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430",children:Object(O.jsx)(Ae.a,{fontSize:"small"})}),s&&Object(O.jsx)(ge.a,{title:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",children:Object(O.jsx)(Re.a,{fontSize:"small"})})]}),Object(O.jsxs)(Ie.a,{children:[Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"})}),Object(O.jsx)(g.a,{paragraph:!0,noWrap:!0,children:n}),Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"})}),Object(O.jsx)(g.a,{paragraph:!0,noWrap:!0,children:a}),Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438:"})}),Object(O.jsx)(g.a,{paragraph:!0,children:c})]}),u&&Object(O.jsx)(Ce.a,{children:Object(O.jsx)(h.a,{size:"small",color:"primary",onClick:d,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},Ve=function(){var e=j(),t=Object(o.c)((function(e){return e.tasks}));return Object(O.jsx)("div",{className:e.gridAndWrapper,children:Object(O.jsx)(le.a,{container:!0,spacing:2,className:e.gridAndWrapper,children:t.length?t.map((function(e){return Object(O.jsx)(le.a,{item:!0,xs:12,md:4,children:Object(O.jsx)(Fe,{id:e.id,username:e.username,email:e.email,text:e.text,isEdited:e.isEdited,isDone:e.isDone})},e.id)})):Object(O.jsx)(le.a,{item:!0,xs:12,children:Object(O.jsx)(g.a,{align:"center",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u043f\u0443\u0441\u0442."})})})})},We=n(204),ze=function(){var e=j(),t=Object(o.c)((function(e){return e.taskListState.pagesTotal})),n=Object(o.c)((function(e){return e.taskListState.currentPage})),a=Object(o.b)();if(t<2)return null;return Object(O.jsx)(le.a,{container:!0,alignItems:"center",justify:"center",className:e.taskPagination,children:Object(O.jsx)(le.a,{item:!0,children:Object(O.jsx)(We.a,{variant:"outlined",shape:"rounded",count:t,page:n,onChange:function(e,t){a(Ee({currentPage:t}))}})})})},Be=n(208),Ge=function(){return{type:B}},Pe=function(){var e=Object(o.c)((function(e){return e.notification})),t=e.isOpen,n=e.type,a=e.text,c=Object(o.b)(),i=Object(r.useCallback)((function(e,t){"clickaway"!==t&&c(Ge())}),[c]);return Object(O.jsx)(Be.a,{open:t,autoHideDuration:5e3,onClose:i,children:Object(O.jsx)(de.a,{severity:n,variant:"filled",elevation:4,onClose:i,children:a})})},Me=n(22),He=n(7),qe=n(196),Ke=n(197),Ue=n(198),Je=n(206),Ze=n(199),Ye=n(207),Qe=n(200),Xe=function(e){return{type:N,dialogName:e}},$e=function(e,t){return{type:_,dialogName:e,payload:t}},et=function(e){return{type:R,dialogName:e}},tt=function(e,t){return{type:A,dialogName:e,payload:t}},nt=function(e,t){var n=Object(o.c)((function(t){return t.dialogState[e].isOpen})),a=Object(o.c)((function(t){return t.dialogState[e].isBusy})),c=Object(o.c)((function(t){return t.dialogState[e].generalError})),i=Object(o.b)(),s=Object(r.useCallback)((function(){a||i(P(e,!1))}),[a,i,e]),u=Object(r.useCallback)((function(){return i(Xe(e))}),[i,e]),l=Object(r.useCallback)((function(t){var n=t.target,a=n.name,r=n.value;i(et(e)),i(tt(e,a)),i(Ne(e,Object(Me.a)({},a,r)))}),[i,e]),d=Object(r.useCallback)((function(n){var a=t(Object(Me.a)({},n.target.name,n.target.value));i($e(e,a))}),[e,i,t]);return{isOpen:n,isBusy:a,generalError:c,close:s,resetState:u,changeField:l,validateField:d}},at=n(54),rt=function(e){var t=e.busy,n=e.children,a=e.color,r=e.disabled,c=Object(at.a)(e,["busy","children","color","disabled"]),i=j(),s=r||t;return Object(O.jsxs)(h.a,Object(He.a)(Object(He.a)({color:a,disabled:s},c),{},{children:[n,t&&Object(O.jsx)(d.a,{size:20,color:a,className:i.buttonLoadingIndicator})]}))},ct=function(){return{type:k}},it=function(){return{type:y}},st=function(){var e=Object(r.useCallback)((function(e){return Object(He.a)(Object(He.a)(Object(He.a)(Object(He.a)({},void 0!==e.username&&0===e.username.length&&{username:ee}),void 0!==e.text&&0===e.text.length&&{text:ee}),void 0!==e.email&&!/.+@.+\..+/.test(e.email)&&{email:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430"}),void 0!==e.email&&0===e.email.length&&{email:ee})}),[]),t=nt(ae,e),n=t.isOpen,a=t.isBusy,c=t.generalError,i=t.close,s=t.resetState,u=t.changeField,l=t.validateField,d=!!Object(o.c)((function(e){return e.dialogState[ae].fieldValue.id})),b=d?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",j=d?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",p=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.username})),x=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.email})),f=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.text})),g=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.isDone})),m=Object(o.c)((function(e){return e.dialogState[ae].fieldError.username})),v=Object(o.c)((function(e){return e.dialogState[ae].fieldError.email})),k=Object(o.c)((function(e){return e.dialogState[ae].fieldError.text})),y=!!m,E=!!v,S=!!k,w=y||E||S,T=a||d,D=Object(o.b)(),I=Object(r.useCallback)((function(e){var t=e.target,n=t.name,a=t.checked;D(et(ae)),D(tt(ae,n)),D(Ne(ae,Object(Me.a)({},n,a)))}),[D]),C=Object(r.useCallback)((function(t){t.preventDefault(),D(et(ae));var n=e(Object(He.a)(Object(He.a)(Object(He.a)({},!d&&{username:p}),!d&&{email:x}),{},{text:f}));(D($e(ae,n)),n.username||n.email||n.text)||D((d?it:ct)())}),[D,e,d,p,x,f]);return Object(O.jsxs)(qe.a,{open:n,onClose:i,onExited:s,children:[Object(O.jsx)(Ke.a,{children:b}),Object(O.jsxs)("form",{noValidate:!0,onSubmit:C,children:[Object(O.jsxs)(Ue.a,{children:[Object(O.jsx)(Je.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:p,error:y,helperText:m,disabled:T,onChange:u,onBlur:l}),Object(O.jsx)(Je.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:x,error:E,helperText:v,disabled:T,onChange:u,onBlur:l}),Object(O.jsx)(Je.a,{required:!0,fullWidth:!0,multiline:!0,rows:4,margin:"normal",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",name:"text",value:f,error:S,helperText:k,disabled:a,onChange:u,onBlur:l}),d&&Object(O.jsx)(Ze.a,{control:Object(O.jsx)(Ye.a,{color:"primary",name:"isDone",checked:g,onChange:I}),label:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"}),c&&Object(O.jsxs)(de.a,{severity:"error",variant:"filled",children:[Object(O.jsx)(be.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),c]})]}),Object(O.jsxs)(Qe.a,{children:[Object(O.jsx)(h.a,{color:"primary",disabled:a,onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(O.jsx)(rt,{color:"primary",disabled:w,type:"submit",busy:a,children:j})]})]})]})},ot=function(){return{type:F}},ut=function(){var e=Object(r.useCallback)((function(e){return Object(He.a)(Object(He.a)({},void 0!==e.username&&0===e.username.length&&{username:ee}),void 0!==e.password&&0===e.password.length&&{password:ee})}),[]),t=nt(re,e),n=t.isOpen,a=t.isBusy,c=t.generalError,i=t.close,s=t.resetState,u=t.changeField,l=t.validateField,d=Object(o.c)((function(e){return e.dialogState[re].fieldValue.username})),b=Object(o.c)((function(e){return e.dialogState[re].fieldValue.password})),j=Object(o.c)((function(e){return e.dialogState[re].fieldError.username})),p=Object(o.c)((function(e){return e.dialogState[re].fieldError.password})),x=!!j,f=!!p,g=x||f,m=Object(o.b)(),v=Object(r.useCallback)((function(t){t.preventDefault(),m(et(re));var n=e({username:d,password:b});m($e(re,n)),n.username||n.password||m(ot())}),[e,d,b,m]);return Object(O.jsxs)(qe.a,{open:n,onClose:i,onExited:s,children:[Object(O.jsx)(Ke.a,{children:"\u0412\u0445\u043e\u0434"}),Object(O.jsxs)("form",{noValidate:!0,onSubmit:v,children:[Object(O.jsxs)(Ue.a,{children:[Object(O.jsx)(Je.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:d,error:x,helperText:j,disabled:a,onChange:u,onBlur:l}),Object(O.jsx)(Je.a,{required:!0,fullWidth:!0,margin:"normal",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:b,error:f,helperText:p,disabled:a,onChange:u,onBlur:l}),c&&Object(O.jsxs)(de.a,{severity:"error",variant:"filled",children:[Object(O.jsx)(be.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),c]})]}),Object(O.jsxs)(Qe.a,{children:[Object(O.jsx)(h.a,{color:"primary",disabled:a,onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(O.jsx)(rt,{color:"primary",disabled:g,type:"submit",busy:a,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},lt=function(){return{type:W}},dt=function(){var e=Object(o.c)((function(e){return e.taskListState.isInitialDataLoaded})),t=Object(o.b)();return Object(r.useEffect)((function(){t(lt()),t(Ee({currentPage:1},!0))}),[t]),Object(O.jsxs)(O.Fragment,{children:[!e&&Object(O.jsx)(p,{}),e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ue,{}),Object(O.jsx)(pe,{}),Object(O.jsx)(we,{}),Object(O.jsx)(Ve,{}),Object(O.jsx)(ze,{}),Object(O.jsx)(Pe,{}),Object(O.jsx)(st,{}),Object(O.jsx)(ut,{})]})]})},bt=n(42),jt=n(99),Ot=n(100),pt=n(71),xt=[],ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v:return Object(pt.a)(a);default:return e}},gt=[],ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return[].concat(Object(pt.a)(e),[{id:Date.now().toString(36)+Math.random().toString(36).substr(2),text:a}]);case S:return e.filter((function(e){return e.id!==a}));default:return e}},mt={isOpen:!1,type:"",text:""},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.notificationType,r=t.text;switch(n){case z:return{isOpen:!0,type:a,text:r};case B:return Object(He.a)(Object(He.a)({},e),{},{isOpen:!1});default:return e}},kt={isInitialDataLoaded:!1,pagesTotal:0,currentPage:1,sortingField:U,sortingDirection:X},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w:return Object(He.a)(Object(He.a)({},e),a);default:return e}},Et=(a={},Object(Me.a)(a,ae,{fieldValue:{id:null,username:"",email:"",text:"",oldText:null,isEdited:!1,isDone:!1},fieldError:{username:null,email:null,text:null},generalError:null,isOpen:!1,isBusy:!1}),Object(Me.a)(a,re,{fieldValue:{username:"",password:""},fieldError:{username:null,password:null},generalError:null,isOpen:!1,isBusy:!1}),a),St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.dialogName,r=t.payload;switch(n){case D:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{isOpen:r})));case I:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{isBusy:r})));case C:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{fieldValue:Object(He.a)(Object(He.a)({},e[a].fieldValue),r)})));case _:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{fieldError:Object(He.a)(Object(He.a)({},e[a].fieldError),r)})));case A:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{fieldError:Object(He.a)(Object(He.a)({},e[a].fieldError),{},Object(Me.a)({},r,Et[a].fieldError[r]))})));case N:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Et[a]));case L:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{generalError:r})));case R:return Object(He.a)(Object(He.a)({},e),{},Object(Me.a)({},a,Object(He.a)(Object(He.a)({},e[a]),{},{generalError:Et[a].generalError})));default:return e}},wt={isAuthorized:!1},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case T:return Object(He.a)({},a);case V:return wt;default:return e}},Dt=Object(bt.combineReducers)({tasks:ft,errors:ht,notification:vt,taskListState:yt,dialogState:St,authorizationState:Tt}),It=n(17),Ct=n.n(It),_t=n(9),At=n(40),Lt=n.n(At),Rt=function(e){return{type:E,payload:e}},Nt=function(e){return{type:w,payload:e}},Ft=function(e){return{type:v,payload:e}},Vt=Ct.a.mark(zt),Wt=Ct.a.mark(Bt);function zt(e){var t,n,a,r,c,i,s,o,u,l,d,b,j,O,p;return Ct.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return t=e.params,n=t.currentPage,a=t.sortingField,r=t.sortingDirection,c=e.isInitialDataLoading,x.prev=1,x.next=4,Object(_t.e)();case 4:return i=x.sent,s=i.taskListState,o=Object(He.a)(Object(He.a)(Object(He.a)(Object(He.a)({},s),n&&{currentPage:n}),a&&{sortingField:a}),r&&{sortingDirection:r}),u=o.currentPage?"&page=".concat(o.currentPage):"",l=o.sortingField!==U?"&sort_field=".concat(o.sortingField):"",d=o.sortingField!==U?"&sort_direction=".concat(o.sortingDirection):"",x.next=12,Object(_t.b)(Lt.a.get,"".concat(M,"?developer=").concat(H).concat(u).concat(l).concat(d));case 12:b=x.sent,j=b.data,O=j.message,p=j.status,x.t0=p,x.next=x.t0===q?19:x.t0===K?24:27;break;case 19:return x.next=21,Object(_t.d)(Nt(Object(He.a)(Object(He.a)(Object(He.a)({pagesTotal:Math.ceil(O.total_task_count/3)},n&&{currentPage:n}),a&&{sortingField:a}),r&&{sortingDirection:r})));case 21:return x.next=23,Object(_t.d)(Ft(O.tasks.map((function(e){var t=e.status,n=Object(at.a)(e,["status"]),a=parseInt(t,2),r=!!(a&te),c=!!(a&ne);return Object(He.a)(Object(He.a)({},n),{},{isEdited:r,isDone:c})}))));case 23:return x.abrupt("break",27);case 24:return x.next=26,Object(_t.d)(Rt(O));case 26:return x.abrupt("break",27);case 27:x.next=33;break;case 29:return x.prev=29,x.t1=x.catch(1),x.next=33,Object(_t.d)(Rt("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0437\u0430\u0434\u0430\u0447 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 33:if(!c){x.next=36;break}return x.next=36,Object(_t.d)(Nt({isInitialDataLoaded:!0}));case 36:case"end":return x.stop()}}),Vt,null,[[1,29]])}function Bt(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(m,zt);case 2:case"end":return e.stop()}}),Wt)}var Gt=Bt,Pt=function(e,t){return{type:I,dialogName:e,payload:t}},Mt=function(e,t){return{type:L,dialogName:e,payload:t}},Ht=function(e,t){return{type:z,notificationType:e,text:t}},qt=Ct.a.mark(Ut),Kt=Ct.a.mark(Jt);function Ut(){var e,t,n,a,r,c,i,s,o,u;return Ct.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Object(_t.d)(Pt(ae,!0));case 3:return l.next=5,Object(_t.e)();case 5:return e=l.sent,t=e.dialogState[ae].fieldValue,n=t.username,a=t.email,r=t.text,(c=new FormData).append("username",n),c.append("email",a),c.append("text",r),l.next=16,Object(_t.b)(Lt.a.post,"".concat(M,"create?developer=").concat(H),c);case 16:i=l.sent,s=i.data,o=s.message,u=s.status,l.t0=u,l.next=l.t0===q?23:l.t0===K?30:35;break;case 23:return l.next=25,Object(_t.d)(Ee());case 25:return l.next=27,Object(_t.d)(P(ae,!1));case 27:return l.next=29,Object(_t.d)(Ht(se,"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430!"));case 29:return l.abrupt("break",35);case 30:return l.next=32,Object(_t.d)($e(ae,o));case 32:return l.next=34,Object(_t.d)(Pt(ae,!1));case 34:return l.abrupt("break",35);case 35:l.next=43;break;case 37:return l.prev=37,l.t1=l.catch(0),l.next=41,Object(_t.d)(Mt(ae,"\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 41:return l.next=43,Object(_t.d)(Pt(ae,!1));case 43:case"end":return l.stop()}}),qt,null,[[0,37]])}function Jt(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(k,Ut);case 2:case"end":return e.stop()}}),Kt)}var Zt=Jt,Yt=n(34),Qt=n.n(Yt),Xt=Ct.a.mark(en),$t=Ct.a.mark(tn);function en(){var e,t,n,a,r,c,i,s,o,u;return Ct.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Object(_t.d)(Pt(re,!0));case 3:return l.next=5,Object(_t.e)();case 5:return e=l.sent,t=e.dialogState[re].fieldValue,n=t.username,a=t.password,(r=new FormData).append("username",n),r.append("password",a),l.next=14,Object(_t.b)(Lt.a.post,"".concat(M,"login?developer=").concat(H),r);case 14:c=l.sent,i=c.data,s=i.message,o=i.status,l.t0=o,l.next=l.t0===q?21:l.t0===K?33:38;break;case 21:return u=new Date((new Date).getTime()+864e5),l.next=24,Object(_t.b)(Qt.a.set,ce,s.token,{expires:u,sameSite:"strict"});case 24:return l.next=26,Object(_t.b)(Qt.a.set,ie,u,{expires:u,sameSite:"strict"});case 26:return l.next=28,Object(_t.d)(lt());case 28:return l.next=30,Object(_t.d)(P(re,!1));case 30:return l.next=32,Object(_t.d)(Ht(oe,"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443."));case 32:return l.abrupt("break",38);case 33:return l.next=35,Object(_t.d)($e(re,s));case 35:return l.next=37,Object(_t.d)(Pt(re,!1));case 37:return l.abrupt("break",38);case 38:l.next=46;break;case 40:return l.prev=40,l.t1=l.catch(0),l.next=44,Object(_t.d)(Mt(re,"\u041f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 44:return l.next=46,Object(_t.d)(Pt(re,!1));case 46:case"end":return l.stop()}}),Xt,null,[[0,40]])}function tn(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(F,en);case 2:case"end":return e.stop()}}),$t)}var nn=tn,an=Ct.a.mark(cn),rn=Ct.a.mark(sn);function cn(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.b)(Qt.a.remove,ce);case 2:return e.next=4,Object(_t.b)(Qt.a.remove,ie);case 4:return e.next=6,Object(_t.d)(Ht(oe,"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b."));case 6:case"end":return e.stop()}}),an)}function sn(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(V,cn);case 2:case"end":return e.stop()}}),rn)}var on=sn,un=function(e){return{type:T,payload:e}},ln=Ct.a.mark(jn),dn=Ct.a.mark(On),bn=function(e){return new Date(e).getTime()-(new Date).getTime()};function jn(){var e,t;return Ct.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_t.b)(Qt.a.get,ce);case 2:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Object(_t.b)(Qt.a.get,ie);case 7:return e=n.sent,n.next=10,Object(_t.d)(un({isAuthorized:!0}));case 10:return n.next=12,Object(_t.b)(bn,e);case 12:return t=n.sent,n.next=15,Object(_t.c)(t);case 15:return n.next=17,Object(_t.d)(G());case 17:case"end":return n.stop()}}),ln)}function On(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.g)(W,jn);case 2:case"end":return e.stop()}}),dn)}var pn=On,xn=Ct.a.mark(gn),fn=Ct.a.mark(hn);function gn(){var e,t,n,a,r,c,i,s,o,u,l,d,b,j,O,p;return Ct.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,Object(_t.d)(Pt(ae,!0));case 3:return x.next=5,Object(_t.b)(Qt.a.get,ce);case 5:if(e=x.sent){x.next=14;break}return x.next=9,Object(_t.d)(G());case 9:return x.next=11,Object(_t.d)(Mt(ae,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443."));case 11:return x.next=13,Object(_t.d)(Pt(ae,!1));case 13:return x.abrupt("return");case 14:return x.next=16,Object(_t.e)();case 16:return t=x.sent,n=t.dialogState[ae].fieldValue,a=n.id,r=n.text,c=n.oldText,i=n.isEdited,s=n.isDone,o=parseInt(((s&&ne)^((i||r!==c)&&te)).toString(2),10),(u=new FormData).append("text",r),u.append("status",o),u.append("token",e),x.next=31,Object(_t.b)(Lt.a.post,"".concat(M,"edit/").concat(a,"?developer=").concat(H),u);case 31:l=x.sent,d=l.data,b=d.message,j=d.status,x.t0=j,x.next=x.t0===q?38:x.t0===K?45:54;break;case 38:return x.next=40,Object(_t.d)(Ee());case 40:return x.next=42,Object(_t.d)(P(ae,!1));case 42:return x.next=44,Object(_t.d)(Ht(se,"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!"));case 44:return x.abrupt("break",54);case 45:if(O=b.token,p=Object(at.a)(b,["token"]),!O){x.next=49;break}return x.next=49,Object(_t.d)(Mt(ae,O));case 49:return x.next=51,Object(_t.d)($e(ae,p));case 51:return x.next=53,Object(_t.d)(Pt(ae,!1));case 53:return x.abrupt("break",54);case 54:x.next=62;break;case 56:return x.prev=56,x.t1=x.catch(0),x.next=60,Object(_t.d)(Mt(ae,"\u041f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 60:return x.next=62,Object(_t.d)(Pt(ae,!1));case 62:case"end":return x.stop()}}),xn,null,[[0,56]])}function hn(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.f)(y,gn);case 2:case"end":return e.stop()}}),fn)}var mn=hn,vn=Ct.a.mark(kn);function kn(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.a)([Gt(),Zt(),nn(),on(),pn(),mn()]);case 2:case"end":return e.stop()}}),vn)}var yn=kn,En=Object(jt.composeWithDevTools)({trace:!0}),Sn=Object(Ot.a)(),wn=Object(bt.createStore)(Dt,En(Object(bt.applyMiddleware)(Sn)));Sn.run(yn);var Tn=wn;s.a.render(Object(O.jsxs)(c.a.StrictMode,{children:[Object(O.jsx)(u.a,{}),Object(O.jsx)(o.a,{store:Tn,children:Object(O.jsx)(dt,{})})]}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.901ef1bc.chunk.js.map