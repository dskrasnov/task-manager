(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],{147:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(17),s=a.n(i),o=a(12),l=a(197),u=a(149),d=a(178),b=a(175),j=Object(b.a)((function(e){return{gridAndWrapper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},alertList:{paddingTop:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},taskPagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},appLoadingIndicator:{zIndex:e.zIndex.drawer+1,color:"#fff"},buttonLoadingIndicator:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}}})),O=a(3),p=function(){var e=j();return Object(O.jsx)(u.a,{open:!0,className:e.appLoadingIndicator,children:Object(O.jsx)(d.a,{color:"inherit"})})},x=a(179),f=a(180),g=a(76),m=a(181),h="FETCH_TASKS",v="SET_TASKS",k="CREATE_TASK",y="EDIT_TASK",E="ADD_ERROR",S="REMOVE_ERROR",w="SET_TASK_LIST_STATE",T="SET_AUTHORIZATION_STATE",D="SET_DIALOG_OPEN",_="SET_DIALOG_BUSY",L="SET_DIALOG_FIELD_VALUE",C="SET_DIALOG_FIELD_ERROR",I="RESET_DIALOG_FIELD_ERROR",A="SET_DIALOG_GENERAL_ERROR",R="RESET_DIALOG_GENERAL_ERROR",F="RESET_DIALOG_STATE",N="LOGIN",V="LOGOUT",B="READ_AUTHORIZATION_DATA",W=function(){return{type:V}},G=function(e,t){return{type:D,dialogName:e,payload:t}},z="https://uxcandy.com/~shapoval/test-task-backend/v2/",P="dskrasnov",M="ok",q="error",K="NO_SORTING",U="id",H="username",J="email",Z="status",Y="asc",Q="desc",X="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",$=1,ee=2,te="taskManage",ae="login",ne="token",re="tokenExpires",ce=function(){var e=!!Object(o.c)((function(e){return e.authorizationState.token})),t=e?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438",a=Object(o.b)(),n=Object(r.useCallback)((function(){a(e?W():G(ae,!0))}),[e,a]);return Object(O.jsx)(x.a,{position:"static",children:Object(O.jsxs)(f.a,{children:[Object(O.jsx)(g.a,{variant:"h6",children:"\u0417\u0430\u0434\u0430\u0447\u0438"}),Object(O.jsx)("div",{style:{flexGrow:1}}),Object(O.jsx)(m.a,{color:"inherit",onClick:n,children:t})]})})},ie=a(184),se=a(201),oe=a(183),le=function(e){var t=e.error,a=t.id,n=t.text,r=e.onClose;return Object(O.jsxs)(se.a,{severity:"error",variant:"filled",closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClose:function(){return r(a)},children:[Object(O.jsx)(oe.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),n]})},ue=function(e){return{type:S,payload:e}},de=function(){var e=j(),t=Object(o.b)(),a=Object(r.useCallback)((function(e){return t(ue(e))}),[t]),n=Object(o.c)((function(e){return e.errors}));return n.length?Object(O.jsx)("div",{className:e.alertList,children:Object(O.jsx)(ie.a,{container:!0,direction:"column",spacing:1,className:e.gridAndWrapper,children:n.map((function(e){return Object(O.jsx)(ie.a,{item:!0,children:Object(O.jsx)(le,{error:e,onClose:a})},e.id)}))})}):null},be=a(199),je=a(205),Oe=a(206),pe=a(182),xe=a(94),fe=a.n(xe),ge=a(95),me=a.n(ge),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{type:h,params:e,isInitialDataLoading:t}},ve=[{field:K,label:"\u0411\u0435\u0437 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"},{field:U,label:"\u041f\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0443"},{field:H,label:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{field:J,label:"\u041f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"},{field:Z,label:"\u041f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443"}],ke=function(){var e=Object(o.c)((function(e){return e.taskListState.sortingField})),t=Object(o.c)((function(e){return e.taskListState.sortingDirection})),a=e!==K,n=t===Y,c=n?"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e":"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",i=Object(o.b)(),s=Object(r.useCallback)((function(){return i(G(te,!0))}),[i]),l=Object(r.useCallback)((function(e){var t=e.target.value;return i(he({sortingField:t}))}),[i]),u=Object(r.useCallback)((function(){return i(he({sortingDirection:n?Q:Y}))}),[i,n]);return Object(O.jsx)(f.a,{children:Object(O.jsxs)(ie.a,{container:!0,justify:"space-between",alignItems:"center",wrap:"nowrap",spacing:2,children:[Object(O.jsx)(ie.a,{item:!0,children:Object(O.jsx)(m.a,{variant:"contained",color:"secondary",onClick:s,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(O.jsxs)(ie.a,{item:!0,zeroMinWidth:!0,container:!0,justify:"flex-end",alignItems:"center",wrap:"nowrap",children:[Object(O.jsx)(ie.a,{item:!0,zeroMinWidth:!0,children:Object(O.jsx)(be.a,{value:e,style:{maxWidth:"100%"},onChange:l,children:ve.map((function(e){return Object(O.jsx)(je.a,{value:e.field,children:e.label},e.field)}))})}),a&&Object(O.jsx)(ie.a,{item:!0,children:Object(O.jsx)(Oe.a,{title:c,children:Object(O.jsx)(pe.a,{onClick:u,children:n?Object(O.jsx)(fe.a,{}):Object(O.jsx)(me.a,{})})})})]})]})})},ye=a(189),Ee=a(198),Se=a(190),we=a(191),Te=a(96),De=a.n(Te),_e=a(97),Le=a.n(_e),Ce=function(e,t){return{type:L,dialogName:e,payload:t}},Ie=function(e){var t=e.id,a=e.username,n=e.email,c=e.text,i=e.isEdited,s=e.isDone,l=!!Object(o.c)((function(e){return e.authorizationState.token})),u=Object(o.b)(),d=Object(r.useCallback)((function(){u(Ce(te,{id:t,username:a,email:n,text:c,oldText:c,isEdited:i,isDone:s})),u(G(te,!0))}),[u,t,a,n,c,i,s]);return Object(O.jsxs)(ye.a,{style:{position:"relative"},children:[(i||s)&&Object(O.jsxs)(Ee.a,{style:{position:"absolute",top:2,right:2},children:[i&&Object(O.jsx)(Oe.a,{title:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430",children:Object(O.jsx)(De.a,{fontSize:"small"})}),s&&Object(O.jsx)(Oe.a,{title:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",children:Object(O.jsx)(Le.a,{fontSize:"small"})})]}),Object(O.jsxs)(Se.a,{children:[Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"})}),Object(O.jsx)(g.a,{paragraph:!0,noWrap:!0,children:a}),Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"})}),Object(O.jsx)(g.a,{paragraph:!0,noWrap:!0,children:n}),Object(O.jsx)(g.a,{component:"span",children:Object(O.jsx)("b",{children:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438:"})}),Object(O.jsx)(g.a,{paragraph:!0,children:c})]}),l&&Object(O.jsx)(we.a,{children:Object(O.jsx)(m.a,{size:"small",color:"primary",onClick:d,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},Ae=function(){var e=j(),t=Object(o.c)((function(e){return e.tasks}));return Object(O.jsx)("div",{className:e.gridAndWrapper,children:Object(O.jsx)(ie.a,{container:!0,spacing:2,className:e.gridAndWrapper,children:t.length?t.map((function(e){return Object(O.jsx)(ie.a,{item:!0,xs:12,md:4,children:Object(O.jsx)(Ie,{id:e.id,username:e.username,email:e.email,text:e.text,isEdited:e.isEdited,isDone:e.isDone})},e.id)})):Object(O.jsx)(ie.a,{item:!0,xs:12,children:Object(O.jsx)(g.a,{align:"center",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u043f\u0443\u0441\u0442."})})})})},Re=a(200),Fe=function(){var e=j(),t=Object(o.c)((function(e){return e.taskListState.pagesTotal})),a=Object(o.c)((function(e){return e.taskListState.currentPage})),n=Object(o.b)();if(t<2)return null;return Object(O.jsx)(ie.a,{container:!0,alignItems:"center",justify:"center",className:e.taskPagination,children:Object(O.jsx)(ie.a,{item:!0,children:Object(O.jsx)(Re.a,{variant:"outlined",shape:"rounded",count:t,page:a,onChange:function(e,t){n(he({currentPage:t}))}})})})},Ne=a(21),Ve=a(7),Be=a(192),We=a(193),Ge=a(194),ze=a(202),Pe=a(195),Me=a(203),qe=a(196),Ke=function(e){return{type:F,dialogName:e}},Ue=function(e,t){return{type:C,dialogName:e,payload:t}},He=function(e){return{type:R,dialogName:e}},Je=function(e,t){return{type:I,dialogName:e,payload:t}},Ze=function(e,t){var a=Object(o.c)((function(t){return t.dialogState[e].isOpen})),n=Object(o.c)((function(t){return t.dialogState[e].isBusy})),c=Object(o.c)((function(t){return t.dialogState[e].generalError})),i=Object(o.b)(),s=Object(r.useCallback)((function(){n||i(G(e,!1))}),[n,i,e]),l=Object(r.useCallback)((function(){return i(Ke(e))}),[i,e]),u=Object(r.useCallback)((function(t){var a=t.target,n=a.name,r=a.value;i(He(e)),i(Je(e,n)),i(Ce(e,Object(Ne.a)({},n,r)))}),[i,e]),d=Object(r.useCallback)((function(a){var n=t(Object(Ne.a)({},a.target.name,a.target.value));i(Ue(e,n))}),[e,i,t]);return{isOpen:a,isBusy:n,generalError:c,close:s,resetState:l,changeField:u,validateField:d}},Ye=a(54),Qe=function(e){var t=e.busy,a=e.children,n=e.color,r=e.disabled,c=Object(Ye.a)(e,["busy","children","color","disabled"]),i=j(),s=r||t;return Object(O.jsxs)(m.a,Object(Ve.a)(Object(Ve.a)({color:n,disabled:s},c),{},{children:[a,t&&Object(O.jsx)(d.a,{size:20,color:n,className:i.buttonLoadingIndicator})]}))},Xe=function(){return{type:k}},$e=function(){return{type:y}},et=function(){var e=Object(r.useCallback)((function(e){return Object(Ve.a)(Object(Ve.a)(Object(Ve.a)(Object(Ve.a)({},void 0!==e.username&&0===e.username.length&&{username:X}),void 0!==e.text&&0===e.text.length&&{text:X}),void 0!==e.email&&!/.+@.+\..+/.test(e.email)&&{email:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430"}),void 0!==e.email&&0===e.email.length&&{email:X})}),[]),t=Ze(te,e),a=t.isOpen,n=t.isBusy,c=t.generalError,i=t.close,s=t.resetState,l=t.changeField,u=t.validateField,d=!!Object(o.c)((function(e){return e.dialogState[te].fieldValue.id})),b=d?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",j=d?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",p=Object(o.c)((function(e){return e.dialogState[te].fieldValue.username})),x=Object(o.c)((function(e){return e.dialogState[te].fieldValue.email})),f=Object(o.c)((function(e){return e.dialogState[te].fieldValue.text})),g=Object(o.c)((function(e){return e.dialogState[te].fieldValue.isDone})),h=Object(o.c)((function(e){return e.dialogState[te].fieldError.username})),v=Object(o.c)((function(e){return e.dialogState[te].fieldError.email})),k=Object(o.c)((function(e){return e.dialogState[te].fieldError.text})),y=!!h,E=!!v,S=!!k,w=y||E||S,T=n||d,D=Object(o.b)(),_=Object(r.useCallback)((function(e){var t=e.target,a=t.name,n=t.checked;D(He(te)),D(Je(te,a)),D(Ce(te,Object(Ne.a)({},a,n)))}),[D]),L=Object(r.useCallback)((function(t){t.preventDefault(),D(He(te));var a=e(Object(Ve.a)(Object(Ve.a)(Object(Ve.a)({},!d&&{username:p}),!d&&{email:x}),{},{text:f}));(D(Ue(te,a)),a.username||a.email||a.text)||D((d?$e:Xe)())}),[D,e,d,p,x,f]);return Object(O.jsxs)(Be.a,{open:a,onClose:i,onExited:s,children:[Object(O.jsx)(We.a,{children:b}),Object(O.jsxs)("form",{noValidate:!0,onSubmit:L,children:[Object(O.jsxs)(Ge.a,{children:[Object(O.jsx)(ze.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:p,error:y,helperText:h,disabled:T,onChange:l,onBlur:u}),Object(O.jsx)(ze.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:x,error:E,helperText:v,disabled:T,onChange:l,onBlur:u}),Object(O.jsx)(ze.a,{required:!0,fullWidth:!0,multiline:!0,rows:4,margin:"normal",label:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",name:"text",value:f,error:S,helperText:k,disabled:n,onChange:l,onBlur:u}),d&&Object(O.jsx)(Pe.a,{control:Object(O.jsx)(Me.a,{color:"primary",name:"isDone",checked:g,onChange:_}),label:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430"}),c&&Object(O.jsxs)(se.a,{severity:"error",variant:"filled",children:[Object(O.jsx)(oe.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),c]})]}),Object(O.jsxs)(qe.a,{children:[Object(O.jsx)(m.a,{color:"primary",disabled:n,onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(O.jsx)(Qe,{color:"primary",disabled:w,type:"submit",busy:n,children:j})]})]})]})},tt=function(){return{type:N}},at=function(){var e=Object(r.useCallback)((function(e){return Object(Ve.a)(Object(Ve.a)({},void 0!==e.username&&0===e.username.length&&{username:X}),void 0!==e.password&&0===e.password.length&&{password:X})}),[]),t=Ze(ae,e),a=t.isOpen,n=t.isBusy,c=t.generalError,i=t.close,s=t.resetState,l=t.changeField,u=t.validateField,d=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.username})),b=Object(o.c)((function(e){return e.dialogState[ae].fieldValue.password})),j=Object(o.c)((function(e){return e.dialogState[ae].fieldError.username})),p=Object(o.c)((function(e){return e.dialogState[ae].fieldError.password})),x=!!j,f=!!p,g=x||f,h=Object(o.b)(),v=Object(r.useCallback)((function(t){t.preventDefault(),h(He(ae));var a=e({username:d,password:b});h(Ue(ae,a)),a.username||a.password||h(tt())}),[e,d,b,h]);return Object(O.jsxs)(Be.a,{open:a,onClose:i,onExited:s,children:[Object(O.jsx)(We.a,{children:"\u0412\u0445\u043e\u0434"}),Object(O.jsxs)("form",{noValidate:!0,onSubmit:v,children:[Object(O.jsxs)(Ge.a,{children:[Object(O.jsx)(ze.a,{required:!0,fullWidth:!0,margin:"normal",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",name:"username",value:d,error:x,helperText:j,disabled:n,onChange:l,onBlur:u}),Object(O.jsx)(ze.a,{required:!0,fullWidth:!0,margin:"normal",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:b,error:f,helperText:p,disabled:n,onChange:l,onBlur:u}),c&&Object(O.jsxs)(se.a,{severity:"error",variant:"filled",children:[Object(O.jsx)(oe.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),c]})]}),Object(O.jsxs)(qe.a,{children:[Object(O.jsx)(m.a,{color:"primary",disabled:n,onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(O.jsx)(Qe,{color:"primary",disabled:g,type:"submit",busy:n,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},nt=function(){return{type:B}},rt=function(){var e=Object(o.c)((function(e){return e.taskListState.isInitialDataLoaded})),t=Object(o.b)();return Object(r.useEffect)((function(){t(nt()),t(he({currentPage:1},!0))}),[t]),Object(O.jsxs)(O.Fragment,{children:[!e&&Object(O.jsx)(p,{}),e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ce,{}),Object(O.jsx)(de,{}),Object(O.jsx)(ke,{}),Object(O.jsx)(Ae,{}),Object(O.jsx)(Fe,{}),Object(O.jsx)(et,{}),Object(O.jsx)(at,{})]})]})},ct=a(41),it=a(98),st=a(99),ot=a(71),lt=[],ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(ot.a)(n);default:return e}},dt=[],bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return[].concat(Object(ot.a)(e),[{id:Date.now().toString(36)+Math.random().toString(36).substr(2),text:n}]);case S:return e.filter((function(e){return e.id!==n}));default:return e}},jt={isInitialDataLoaded:!1,pagesTotal:0,currentPage:1,sortingField:K,sortingDirection:Y},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w:return Object(Ve.a)(Object(Ve.a)({},e),n);default:return e}},pt=(n={},Object(Ne.a)(n,te,{fieldValue:{id:null,username:"",email:"",text:"",oldText:null,isEdited:!1,isDone:!1},fieldError:{username:null,email:null,text:null},generalError:null,isOpen:!1,isBusy:!1}),Object(Ne.a)(n,ae,{fieldValue:{username:"",password:""},fieldError:{username:null,password:null},generalError:null,isOpen:!1,isBusy:!1}),n),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.dialogName,r=t.payload;switch(a){case D:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{isOpen:r})));case _:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{isBusy:r})));case L:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{fieldValue:Object(Ve.a)(Object(Ve.a)({},e[n].fieldValue),r)})));case C:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{fieldError:Object(Ve.a)(Object(Ve.a)({},e[n].fieldError),r)})));case I:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{fieldError:Object(Ve.a)(Object(Ve.a)({},e[n].fieldError),{},Object(Ne.a)({},r,pt[n].fieldError[r]))})));case F:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,pt[n]));case A:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{generalError:r})));case R:return Object(Ve.a)(Object(Ve.a)({},e),{},Object(Ne.a)({},n,Object(Ve.a)(Object(Ve.a)({},e[n]),{},{generalError:pt[n].generalError})));default:return e}},ft={token:null,tokenExpires:null},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case T:return Object(Ve.a)({},n);case V:return ft;default:return e}},mt=Object(ct.combineReducers)({tasks:ut,errors:bt,taskListState:Ot,dialogState:xt,authorizationState:gt}),ht=a(16),vt=a.n(ht),kt=a(9),yt=a(39),Et=a.n(yt),St=function(e){return{type:E,payload:e}},wt=function(e){return{type:w,payload:e}},Tt=function(e){return{type:v,payload:e}},Dt=vt.a.mark(Lt),_t=vt.a.mark(Ct);function Lt(e){var t,a,n,r,c,i,s,o,l,u,d,b,j,O,p;return vt.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return t=e.params,a=t.currentPage,n=t.sortingField,r=t.sortingDirection,c=e.isInitialDataLoading,x.prev=1,x.next=4,Object(kt.e)();case 4:return i=x.sent,s=i.taskListState,o=Object(Ve.a)(Object(Ve.a)(Object(Ve.a)(Object(Ve.a)({},s),a&&{currentPage:a}),n&&{sortingField:n}),r&&{sortingDirection:r}),l=o.currentPage?"&page=".concat(o.currentPage):"",u=o.sortingField!==K?"&sort_field=".concat(o.sortingField):"",d=o.sortingField!==K?"&sort_direction=".concat(o.sortingDirection):"",x.next=12,Object(kt.b)(Et.a.get,"".concat(z,"?developer=").concat(P).concat(l).concat(u).concat(d));case 12:b=x.sent,j=b.data,O=j.message,p=j.status,x.t0=p,x.next=x.t0===M?19:x.t0===q?24:27;break;case 19:return x.next=21,Object(kt.d)(wt(Object(Ve.a)(Object(Ve.a)(Object(Ve.a)({pagesTotal:Math.ceil(O.total_task_count/3)},a&&{currentPage:a}),n&&{sortingField:n}),r&&{sortingDirection:r})));case 21:return x.next=23,Object(kt.d)(Tt(O.tasks.map((function(e){var t=e.status,a=Object(Ye.a)(e,["status"]),n=parseInt(t,2),r=!!(n&$),c=!!(n&ee);return Object(Ve.a)(Object(Ve.a)({},a),{},{isEdited:r,isDone:c})}))));case 23:return x.abrupt("break",27);case 24:return x.next=26,Object(kt.d)(St(O));case 26:return x.abrupt("break",27);case 27:x.next=33;break;case 29:return x.prev=29,x.t1=x.catch(1),x.next=33,Object(kt.d)(St("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0437\u0430\u0434\u0430\u0447 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 33:if(!c){x.next=36;break}return x.next=36,Object(kt.d)(wt({isInitialDataLoaded:!0}));case 36:case"end":return x.stop()}}),Dt,null,[[1,29]])}function Ct(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.f)(h,Lt);case 2:case"end":return e.stop()}}),_t)}var It=Ct,At=function(e,t){return{type:_,dialogName:e,payload:t}},Rt=function(e,t){return{type:A,dialogName:e,payload:t}},Ft=vt.a.mark(Vt),Nt=vt.a.mark(Bt);function Vt(){var e,t,a,n,r,c,i,s,o,l;return vt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(kt.d)(At(te,!0));case 3:return u.next=5,Object(kt.e)();case 5:return e=u.sent,t=e.dialogState[te].fieldValue,a=t.username,n=t.email,r=t.text,(c=new FormData).append("username",a),c.append("email",n),c.append("text",r),u.next=16,Object(kt.b)(Et.a.post,"".concat(z,"create?developer=").concat(P),c);case 16:i=u.sent,s=i.data,o=s.message,l=s.status,u.t0=l,u.next=u.t0===M?23:u.t0===q?28:33;break;case 23:return u.next=25,Object(kt.d)(he());case 25:return u.next=27,Object(kt.d)(G(te,!1));case 27:return u.abrupt("break",33);case 28:return u.next=30,Object(kt.d)(Ue(te,o));case 30:return u.next=32,Object(kt.d)(At(te,!1));case 32:return u.abrupt("break",33);case 33:u.next=41;break;case 35:return u.prev=35,u.t1=u.catch(0),u.next=39,Object(kt.d)(Rt(te,"\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 39:return u.next=41,Object(kt.d)(At(te,!1));case 41:case"end":return u.stop()}}),Ft,null,[[0,35]])}function Bt(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.f)(k,Vt);case 2:case"end":return e.stop()}}),Nt)}var Wt=Bt,Gt=a(35),zt=a.n(Gt),Pt=vt.a.mark(qt),Mt=vt.a.mark(Kt);function qt(){var e,t,a,n,r,c,i,s,o,l;return vt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(kt.d)(At(ae,!0));case 3:return u.next=5,Object(kt.e)();case 5:return e=u.sent,t=e.dialogState[ae].fieldValue,a=t.username,n=t.password,(r=new FormData).append("username",a),r.append("password",n),u.next=14,Object(kt.b)(Et.a.post,"".concat(z,"login?developer=").concat(P),r);case 14:c=u.sent,i=c.data,s=i.message,o=i.status,u.t0=o,u.next=u.t0===M?21:u.t0===q?31:36;break;case 21:return l=new Date((new Date).getTime()+864e5),u.next=24,Object(kt.b)(zt.a.set,ne,s.token,{expires:l,sameSite:"strict"});case 24:return u.next=26,Object(kt.b)(zt.a.set,re,l,{expires:l,sameSite:"strict"});case 26:return u.next=28,Object(kt.d)(nt());case 28:return u.next=30,Object(kt.d)(G(ae,!1));case 30:return u.abrupt("break",36);case 31:return u.next=33,Object(kt.d)(Ue(ae,s));case 33:return u.next=35,Object(kt.d)(At(ae,!1));case 35:return u.abrupt("break",36);case 36:u.next=44;break;case 38:return u.prev=38,u.t1=u.catch(0),u.next=42,Object(kt.d)(Rt(ae,"\u041f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 42:return u.next=44,Object(kt.d)(At(ae,!1));case 44:case"end":return u.stop()}}),Pt,null,[[0,38]])}function Kt(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.f)(N,qt);case 2:case"end":return e.stop()}}),Mt)}var Ut=Kt,Ht=vt.a.mark(Zt),Jt=vt.a.mark(Yt);function Zt(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.b)(zt.a.remove,ne);case 2:return e.next=4,Object(kt.b)(zt.a.remove,re);case 4:case"end":return e.stop()}}),Ht)}function Yt(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.f)(V,Zt);case 2:case"end":return e.stop()}}),Jt)}var Qt=Yt,Xt=function(e){return{type:T,payload:e}},$t=vt.a.mark(aa),ea=vt.a.mark(na),ta=function(e){return new Date(e).getTime()-(new Date).getTime()};function aa(){var e,t,a;return vt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(kt.b)(zt.a.get,ne);case 2:if(e=n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Object(kt.b)(zt.a.get,re);case 7:return t=n.sent,n.next=10,Object(kt.d)(Xt({token:e,tokenExpires:t}));case 10:return n.next=12,Object(kt.b)(ta,t);case 12:return a=n.sent,n.next=15,Object(kt.c)(a);case 15:return n.next=17,Object(kt.d)(W());case 17:case"end":return n.stop()}}),$t)}function na(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.g)(B,aa);case 2:case"end":return e.stop()}}),ea)}var ra=na,ca=vt.a.mark(sa),ia=vt.a.mark(oa);function sa(){var e,t,a,n,r,c,i,s,o,l,u,d,b,j,O,p;return vt.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,Object(kt.d)(At(te,!0));case 3:return x.next=5,Object(kt.e)();case 5:return e=x.sent,t=e.dialogState[te].fieldValue,a=t.id,n=t.text,r=t.oldText,c=t.isEdited,i=t.isDone,s=e.authorizationState.token,o=parseInt(((i&&ee)^((c||n!==r)&&$)).toString(2),10),(l=new FormData).append("text",n),l.append("status",o),l.append("token",s),x.next=21,Object(kt.b)(Et.a.post,"".concat(z,"edit/").concat(a,"?developer=").concat(P),l);case 21:u=x.sent,d=u.data,b=d.message,j=d.status,x.t0=j,x.next=x.t0===M?28:x.t0===q?33:42;break;case 28:return x.next=30,Object(kt.d)(he());case 30:return x.next=32,Object(kt.d)(G(te,!1));case 32:return x.abrupt("break",42);case 33:if(O=b.token,p=Object(Ye.a)(b,["token"]),!O){x.next=37;break}return x.next=37,Object(kt.d)(Rt(te,O));case 37:return x.next=39,Object(kt.d)(Ue(te,p));case 39:return x.next=41,Object(kt.d)(At(te,!1));case 41:return x.abrupt("break",42);case 42:x.next=50;break;case 44:return x.prev=44,x.t1=x.catch(0),x.next=48,Object(kt.d)(Rt(te,"\u041f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."));case 48:return x.next=50,Object(kt.d)(At(te,!1));case 50:case"end":return x.stop()}}),ca,null,[[0,44]])}function oa(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.f)(y,sa);case 2:case"end":return e.stop()}}),ia)}var la=oa,ua=vt.a.mark(da);function da(){return vt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.a)([It(),Wt(),Ut(),Qt(),ra(),la()]);case 2:case"end":return e.stop()}}),ua)}var ba=da,ja=Object(it.composeWithDevTools)({trace:!0}),Oa=Object(st.a)(),pa=Object(ct.createStore)(mt,ja(Object(ct.applyMiddleware)(Oa)));Oa.run(ba);var xa=pa;s.a.render(Object(O.jsxs)(c.a.StrictMode,{children:[Object(O.jsx)(l.a,{}),Object(O.jsx)(o.a,{store:xa,children:Object(O.jsx)(rt,{})})]}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.2c3a8343.chunk.js.map